codetasty.revision.2.0
{"ts":1518665257,"restoring":false,"user_id":7359,"patch":[{"diffs":[[1,"<?php\r\ninclude(\"include.php\");\r\ninclude(\"gameinfo.php\");\r\n$manage = new Manager();\r\n$mysqli = $manage->database();\r\n\r\n$snow = false;\r\n$animations = true;\r\n\r\nif(isset($_SESSION['username'])) {\r\n\t$cuser = $manage->get_user();\r\n\tif($cuser['passreset'] && basename($_SERVER[\"SCRIPT_FILENAME\"], '.php')!=\"passreset\") {\r\n\t\theader(\"location: /db/passreset.php\");\r\n\t\tdie(\"<script>window.location.href='/db/passreset.php';</script>You need to reset your password.\");\r\n\t}\r\n\t$test = $mysqli->query(\"UPDATE `users` SET `changed`=0 WHERE `id`=\".$cuser['id']);\r\n}\r\n\r\nif(isset($_SESSION['game_username'])) {\r\n\t$guser = $mysqli->query(\"SELECT * FROM `game_users` WHERE `username`='\".$_SESSION['game_username'].\"'\");\r\n\t$guser = $guser->fetch_array();\r\n}\r\nfunction mustLogIn() {\r\n\tif(!isset($_SESSION['username'])) {\r\n\t\theader(\"location: /db/login.php\");\r\n\t\tdie(\"<script>window.location.href='/db/login.php';</script>You must be logged in to see this.\");\r\n\t}\r\n}\r\nfunction him($userid, $hey=-159) {\r\n\t$manage = new Manager();\r\n\t$mysqli = $manage->database();\r\n\t\r\n\t$us = $mysqli->query(\"SELECT * FROM `users` WHERE `id`=\".$userid.\"\");\r\n\tif($us->num_rows <= 0) {\r\n\t\treturn \"Unknown\";\r\n\t}\r\n\t$us = $us->fetch_array();\r\n\tswitch($hey) {\r\n\t\tcase \"fullname\":\r\n\t\t\treturn $us['fname'].\" \".$us['lname'];\r\n\t\t\tbreak;\r\n\t\tcase -159:\r\n\t\t\treturn $us;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\treturn $us[$hey];\r\n\t\t\tbreak;\r\n\t}\r\n}\r\nif(!function_exists('tellme')) {\r\nfunction tellme($ttl, $msgr) {\r\n\t$ttl = urlencode($ttl);\r\n\t$msgr = urlencode($msgr);\r\n\tfile_get_contents(\"https://hook.integromat.com/9b3v875pabxjp183t7noqeg7erv3o3qx?title=$ttl&message=$msgr\");\r\n}\r\n}\r\n\r\nfunction area($name) {\r\n\t$manage = new Manager();\r\n\t$mysqli = $manage->database();\r\n\t$area = $mysqli->query(\"SELECT * FROM `areas` WHERE `name`='\".$name.\"'\");\r\n\tif($area->num_rows <= 0) {\r\n\t\techo \"Area not found.\";\r\n\t\treturn false;\r\n\t}\r\n\t$area = $area->fetch_array();\r\n\t$areacont = $area['content'];\r\n\t$result    = preg_replace_callback('/(\\[.*?\\])/', function($matches) use($mysqli) {\r\n             // Remove square brackets from the match\r\n             // then use it as variable name\r\n             $item = trim($matches[1],\"[]\");\r\n             $stuff = $mysqli->query(\"SELECT * FROM `variables` WHERE `name`='\".$item.\"'\");\r\n             $stuff = $stuff->fetch_array();\r\n             // Pick an item from the related array whichever.\r\n             return $stuff['value']; }, $areacont);\r\n\t$actual_link = '//'.$_SERVER['HTTP_HOST'].$_SERVER['PHP_SELF'];\r\n\tif($manage->logged_in()) {\r\n\t   ?>\r\n\t   <script>\r\n\t      $(function() {\r\n\t         $(\"#toggle<?=$area['id']?>\").click(function() {\r\n\t            $(\"#form<?=$area['id']?>\").toggleClass(\"hider\");\r\n\t            $(\"#view<?=$area['id']?>\").toggleClass(\"hider\");\r\n\t         });\r\n\t      });\r\n\t   </script>\r\n\t   <button id=\"toggle<?=$area['id']?>\" class=\"btn btn-mini btn-primary\">Editor</button>\r\n\t   <div id=\"form<?=$area['id']?>\" class=\"hider\">\r\n\t \t   <form action=\"/db/savearea.php\" method=\"post\">\r\n\t \t      <input name=\"name\" style=\"display:none;\" value=\"<?=$name?>\">\r\n\t \t      <input name=\"url\" style=\"display:none;\" value=\"<?=$actual_link?>\">\r\n\t \t      <textarea name=\"content\" class=\"form-control\" rows=\"<?=substr_count($result, \"\\n\");?>\" style=\"width:100%; overflow-x:scroll;\"><?=$areacont?></textarea><br>\r\n\t \t      <input type=\"submit\" class=\"btn btn-success\" value=\"Save\">\r\n\t \t   </form>\r\n\t   </div>\r\n\t   <div id=\"view<?=$area['id']?>\">\r\n\t \t   <?=$result?>\r\n\t   </div>\r\n\t   <?php\r\n\t}else{\r\n\t   echo $result;\r\n\t}\r\n}\r\n\r\n// function activity($content, $type=\"\", $which=-1) {\r\n// \t$manage = new Manager();\r\n// \t$mysqli = $manage->database();\r\n\t\r\n// \t$user = $manage->get_user()['id'];\r\n// \t$when = time();\r\n\t\r\n// \t$mysqli->prepare(\"INSERT INTO `activities` (`user`, `when`, `content`, `type`, `which`) VALUES (?, ?, ?, ?, ?)\");\r\n// \t$mysqli->bind_param(\"iissi\", $user, $when, $content, $type, $which);\r\n// \t$mysqli->execute();\r\n// }\r\n\r\n$vars1 = $mysqli->query(\"SELECT * FROM `variables`\");\r\n$vars = array();\r\nwhile($var = $vars1->fetch_array()) {\r\n\t$vars[$var['name']] = $var['value'];\r\n}\r\n?>\r\n<!--headtag.php -->\r\n<meta charset=\"utf-8\">\r\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n<meta name=\"description\" content=\"\">\r\n<meta name=\"author\" content=\"\">\r\n\r\n<!-- Stylesheets -->\r\n<link href=\"/assets/css/bootstrap.css?v=1.05\" rel=\"stylesheet\">\r\n\r\n<?php\r\n$val = false;\r\nif((strtotime(\"today\") == strtotime(\"Feb 14\") || $_GET['v']==1) && $_SESSION['nopink']!=\"off\") {\r\n\t$val = true;\r\n}\r\nif($val == true) {\r\n\t?>\r\n\t<style>\r\n\t\t.well {\r\n\t\t\tbackground-color: #f9dceb !important;\r\n\t\t}\r\n\t</style>\r\n\t<?php\r\n}\r\n?>\r\n\r\n<!--jquery-->\r\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"></script>\r\n\r\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/store.js/1.3.20/store.min.js\"></script>\r\n\r\n<script src=\"https://www.gstatic.com/firebasejs/3.7.2/firebase.js\"></script>\r\n\r\n<?php\r\nif($animations == true) {\r\n?>\r\n\r\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js\"></script>\r\n\r\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css\" />\r\n\r\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/smoothState.js/0.7.2/jquery.smoothState.min.js\"></script>\r\n<script>\r\n$(function() {\r\n  $(\"#main\").smoothState();\r\n});\r\nnew WOW().init();\r\n</script>\r\n<?php\r\n}\r\n?>\r\n\r\n\r\n<?php\r\nif($snow == true) {\r\n?>\r\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/Snowstorm/20131208/snowstorm-min.js\"></script>\r\n<script>\r\nsnowStorm.flakesMaxActive = 96;\r\nsnowStorm.followMouse = false;\r\n</script>\r\n<?php\r\n}\r\n?>\r\n\r\n<style type=\"text/css\">\r\n\tbody {\r\n\t\tpadding-top: 0px;\r\n\t\tpadding-bottom: 0px;\r\n\t}\r\n\tkbd {\r\n\t\tpadding:0.1em 0.6em;\r\n\t\tborder:1px solid #ccc;\r\n\t\tfont-size:11px;\r\n\t\tfont-family:Arial,Helvetica,sans-serif;\r\n\t\tbackground-color:#f7f7f7;\r\n\t\tcolor:#333;\r\n\t\t-moz-box-shadow:0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;\r\n\t\t-webkit-box-shadow:0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;\r\n\t\tbox-shadow:0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;\r\n\t\t-moz-border-radius:3px;\r\n\t\t-webkit-border-radius:3px;\r\n\t\tborder-radius:3px;\r\n\t\tdisplay:inline-block;\r\n\t\tmargin:0 0.1em;\r\n\t\ttext-shadow:0 1px 0 #fff;\r\n\t\tline-height:1.4;\r\n\t\twhite-space:nowrap;\r\n\t}\r\n\t.hider {\r\n\t\tdisplay:none;\r\n\t}\r\n</style>\r\n<link href=\"/assets/css/bootstrap-responsive.css\" rel=\"stylesheet\">\r\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\" />\r\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.9/ace.js\"></script>\r\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/push.js/1.0.5/push.min.js\"></script>\r\n\r\n<!-- Crutch for Internet Explorer -->\r\n<!--[if lt IE 9]>\r\n  <script src=\"//html5shim.googlecode.com/svn/trunk/html5.js\"></script>\r\n<![endif]-->\r\n\r\n<!-- Favicons, and apple home icons -->\r\n<link rel=\"icon\" href=\"//chs.ironk12.org/assets/img/logo.png\">\r\n<link rel=\"apple-touch-icon-precomposed\" sizes=\"114x114\" href=\"../assets/ico/apple-touch-icon-114-precomposed.png\">\r\n<link rel=\"apple-touch-icon-precomposed\" sizes=\"72x72\" href=\"../assets/ico/apple-touch-icon-72-precomposed.png\">\r\n<link rel=\"apple-touch-icon-precomposed\" href=\"../assets/ico/apple-touch-icon-57-precomposed.png\">\r\n<?php\r\nif(isset($_SESSION['username']) && $manage->check_perm(\"chat\")) {\r\n?>\r\n<script>\r\n\t$(document).ready(function() {\r\n\t\tif(store.get(\"hidechat\") == true) {\r\n\t\t\t$(\"#chatcont\").addClass(\"nope\");\r\n\t\t}else{\r\n\t\t\t$(\"#chatcont\").removeClass(\"nope\");\r\n\t\t}\r\n\t\tPush.Permission.request(onGranted, onDenied);\r\n\t\tfunction onGranted() {\r\n\t\t\t// Push.create(\"Notifications on!\");\r\n\t\t}\r\n\t\tfunction onDenied() {\r\n\t\t\tconsole.error(\"Notifications permission was denied!\");\r\n\t\t}\r\n\t\toldTitle = $(\"title\").text();\r\n\t\tvar vis = true;\r\n\t\t$(window).blur(function(){\r\n\t\t\tvis = false;\r\n\t\t});\r\n\t\t$(window).focus(function(){\r\n\t\t\tvis = true;\r\n\t\t});\r\n\t\t$(\".note\").hide();\r\n\t\t$(\"#ctitle\").click(function() {\r\n\t\t\t$(\"#chatcont\").toggleClass(\"nope\");\r\n\t\t\tstore.set(\"hidechat\", $(\"#chatcont\").hasClass(\"nope\"));\r\n\t\t\t// $(\".note\").text(0);\r\n\t\t\t// $(\".note\").hide();\r\n\t\t\t$(\"#messagesDiv\")[0].scrollTop = $(\"#messagesDiv\")[0].scrollHeight;\r\n\t\t});\r\n\t\tfunction newMessage(name,text) {\r\n\t\t\tif(!vis){\r\n\t\t\t\t$('title').html(name+' says \"'+text+'\"');\r\n\t\t\t\tPush.create(name, {\r\n\t\t\t\t    body: text,\r\n\t\t\t\t    timeout: 4000,\r\n\t\t\t\t    onClick: function () {\r\n\t\t\t\t        window.focus();\r\n\t\t\t\t        this.close();\r\n\t\t\t\t        $(\"#messageInput\").focus();\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t\twindow.setTimeout(function() {\r\n\t\t\t\t\t$('title').html(oldTitle);\r\n\t\t\t\t}, 2000);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction init() {\r\n\t\t\t//// Initialize Firebase.\r\n\t\t\tvar config = {\r\n\t\t\t\tapiKey: \"AIzaSyC7DypYRweLX9UC8LvUYQNLsufLZ95dZYM\",\r\n\t\t\t\tauthDomain: \"perfect-transit-186317.firebaseapp.com\",\r\n\t\t\t\tdatabaseURL: \"https://perfect-transit-186317.firebaseio.com\",\r\n\t\t\t};\r\n\t\t\tfirebase.initializeApp(config);\r\n\t\t\t//// Get Firebase Database reference.\r\n\t\t\tvar firepadRef  = getExampleRef();\r\n\t\t\tvar messagesRef = getExampleRef().child(\"chsdbchat\");\r\n\t\t\t$(\"#messageInput\").keypress(function(e) {\r\n\t\t\t\tif (e.keyCode == 13 && $(\"#messageInput\").val()!=\"\") {\r\n\t\t\t\t\tvar name = \"<?=$cuser['username']?>\";\r\n\t\t\t\t\tvar text = $(\"#messageInput\").val();\r\n\t\t\t\t\tmessagesRef.push({\r\n\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\ttext: text\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$(\"#messageInput\").val(\"\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// Add a callback that is triggered for each chat message.\r\n\t\t\tmessagesRef.limitToLast(10).on(\"child_added\", function(snapshot) {\r\n\t\t\t\tvar message = snapshot.val();\r\n\t\t\t\tnewMessage(message.name,message.text);\r\n\t\t\t\tif(message.name==\"<?=$cuser['username']?>\"){\r\n\t\t\t\t\t$(\"#messagesDiv\").append(\"<div class='msg me animated bounceIn'><small class='msg-name'>\"+message.name+\"</small><br>\"+message.text+\"</msg>\");\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$(\"#messagesDiv\").append(\"<div class='msg them animated bounceIn'><small class='msg-name'>\"+message.name+\"</small><br>\"+message.text+\"</msg>\");\r\n\t\t\t\t}\r\n\t\t\t\t// if($(\"#chatcont\").is(\":visible\")){\r\n\t\t\t\t// \t// not needed yet\r\n\t\t\t\t// }else{\r\n\t\t\t\t// \tif($(\".note\").is(\":visible\")){\r\n\t\t\t\t// \t\t$(\".note\").text(1*$(\".note\").text()+1);\r\n\t\t\t\t// \t}else{\r\n\t\t\t\t// \t\t$(\".note\").show();\r\n\t\t\t\t// \t\t$(\".note\").text(1*$(\".note\").text()+1);\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }\r\n\t\t\t\t$(\"#messagesDiv\")[0].scrollTop = $(\"#messagesDiv\")[0].scrollHeight;\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t// Helper to get hash from end of URL or generate a random one.\r\n\t\tfunction getExampleRef() {\r\n\t\t\tvar ref = firebase.database().ref();\r\n\t\t\t// var hash = window.location.hash.replace(/#/g, '');\r\n\t\t\t// if (hash) {\r\n\t\t\t// \tref = ref.child(hash);\r\n\t\t\t// } else {\r\n\t\t\t// \tref = ref.push(); // generate unique location.\r\n\t\t\t// \twindow.location = window.location + '#' + ref.key; // add it as a hash to the URL.\r\n\t\t\t// }\r\n\t\t\treturn ref;\r\n\t\t}\r\n\t\tinit();\r\n\t});\r\n</script>\r\n<style>\r\n\t.chatbox {\r\n\t\tfont: normal normal 11px/1.4 Tahoma, Verdana, Sans-Serif !important;\r\n\t\tcolor: white;\r\n\t\twidth: 200px;\r\n\t\t/* Chatbox width */\r\n\t\tborder: 1px solid #660606;\r\n\t\tborder-bottom: none;\r\n\t\tbackground-color: #660606;\r\n\t\tposition: fixed;\r\n\t\tright: 10px;\r\n\t\tbottom: 0;\r\n\t\tz-index: 9999999999999999999999999999999;\r\n\t\t-webkit-box-shadow: 1px 1px 5px rgba(0, 0, 0, .2);\r\n\t\t-moz-box-shadow: 1px 1px 5px rgba(0, 0, 0, .2);\r\n\t\tbox-shadow: 1px 1px 5px rgba(0, 0, 0, .2);\r\n\t}\r\n\t\r\n\t#chatcont {\r\n\t\twidth: 100%;\r\n\t}\r\n\t\r\n\t#chatcont.nope {\r\n\t\tdisplay:none;\r\n\t}\r\n\t\r\n\t#ctitle {\r\n\t\ttext-align: center;\r\n\t\ttext-transform: uppercase;\r\n\t\tcursor: pointer;\r\n\t\tpadding: 0px;\r\n\t}\r\n\t\r\n\t.chatbox #nameInput {\r\n\t\tbackground-color: white;\r\n\t\tborder: solid 0.5px;\r\n\t\tpadding: 2px;\r\n\t\twidth: calc(100% - 4px);\r\n\t\tcursor: default;\r\n\t\tborder-radius: 0px;\r\n\t\tmargin: 0px;\r\n\t\tdisplay: none;\r\n\t}\r\n\t\r\n\t.chatbox #messageInput {\r\n\t\tbackground-color: white;\r\n\t\tborder: solid 0.5px;\r\n\t\tpadding: 4px;\r\n\t\twidth: calc(100% - 8px);\r\n\t\tborder-radius: 0px;\r\n\t\tmargin: 0px;\r\n\t}\r\n\t\r\n\t.chatbox h3 {\r\n\t\tmargin: 0px !important;\r\n\t\tcolor:white;\r\n\t\tfont-size: 11px;\r\n\t\tpadding: 0px;\r\n\t\tline-height: 20px;\r\n\t}\r\n\t\r\n\t.chatbox #messagesDiv {\r\n\t\tpadding: 5px;\r\n\t\tborder: solid black 1px;\r\n\t\tbackground-color: white;\r\n\t\tcolor: black;\r\n\t\twidth: 94%;\r\n\t\theight: 200px;\r\n\t\toverflow-y: auto;\r\n\t}\r\n\t\r\n\t.msg {\r\n\t\tcolor: black;\r\n\t\tpadding: 3px;\r\n\t\tclear: both;\r\n\t\tmargin-bottom: 3px;\r\n\t\toverflow-x: hide;\r\n\t\tdisplay: inline-block;\r\n\t\tmax-width: 98%;\r\n\t\twhite-space: wrap;\r\n\t\tword-wrap: break-word;\r\n\t\tword-spacing: -1px;\r\n\t\tcursor: default;\r\n\t\t-webkit-touch-callout: none;\r\n\t\t-webkit-user-select: none;\r\n\t\t-khtml-user-select: none;\r\n\t\t-moz-user-select: none;\r\n\t\t-ms-user-select: none;\r\n\t\tuser-select: none;\r\n\t}\r\n\t\r\n\t.msg.them {\r\n\t\tbackground-color: #d1e8ff;\r\n\t\tborder-radius: 7px 7px 7px 0px;\r\n\t\tfloat: left;\r\n\t}\r\n\t\r\n\t.msg.me {\r\n\t\tbackground-color: #56adff;\r\n\t\tborder-radius: 7px 7px 0px 7px;\r\n\t\ttext-align: right;\r\n\t\tfloat: right;\r\n\t}\r\n\t\r\n\t.msg-name {\r\n\t\tfont-weight:bold;\r\n\t\tfont-size: 80%;\r\n\t\tline-height: 0px;\r\n\t}\r\n\t\r\n\t.note {\r\n\t\tdisplay: inline;\r\n\t\tbackground-color: red;\r\n\t\tborder-radius: 6px;\r\n\t\tpadding-right: 4px;\r\n\t\tpadding-left: 4px;\r\n\t}\r\n</style>\r\n<div class=\"chatbox\">\r\n\t<span id=\"ctitle\"><h3>Chat<span class=\"note\"></span></h3></span>\r\n\t<span id=\"chatcont\">\r\n\t\t<input type=\"text\" id=\"nameInput\" readonly placeholder=\"Name\" value=\"<?=$cuser['username']?>\" />\r\n\t\t<div id=\"messagesDiv\"></div>\r\n\t\t<input type=\"text\" id=\"messageInput\" placeholder=\"Message...\" />\r\n\t</span>\r\n</div>\r\n<?php\r\n}\r\n?>\r\n\r\n<span id=\"checker\" style=\"display:none;\"></span>\r\n<script>\r\n $(function() {\r\n \tfunction userupdate() {\r\n\t\t$.get( \"/assets/inc/usercheck.php\", function( data ) {\r\n\t\t  $(\"#checker\").html(data);\r\n\t\t});\r\n\t}\r\n\tsetInterval(userupdate, 2000);\r\n });\r\n</script>\r\n<!--/headtag.php -->\r\n"]],"start1":0,"start2":0,"length1":0,"length2":13556}],"length":13556}
{"ts":1518667654,"restoring":false,"user_id":7359,"patch":[{"diffs":[[0,"ss?v=1.0"],[-1,"5"],[1,"4"],[0,"\" rel=\"s"]],"start1":4315,"start2":4315,"length1":17,"length2":17}],"length":13556}
{"ts":1518670386,"restoring":false,"user_id":7359,"patch":[{"diffs":[[0,"false;\r\n"],[1,"$patty = false;\r\n"],[0,"if((strt"]],"start1":4361,"start2":4361,"length1":16,"length2":33},{"diffs":[[0,"\nif("],[-1,"$val == true) {\r\n\t?>\r\n\t<style>\r\n\t\t.well {\r\n\t\t\tbackground-color: #f9dceb"],[1,"(strtotime(\"today\") == strtotime(\"Mar 17\") || $_GET['p']==1) && $_SESSION['nopat']!=\"off\") {\r\n\t$patty = true;\r\n}\r\nif($val == true) {\r\n\t?>\r\n\t<style>\r\n\t\t.well {\r\n\t\t\tbackground-color: #f9dceb !important;\r\n\t\t}\r\n\t</style>\r\n\t<?php\r\n}\r\nif($patty == true) {\r\n\t?>\r\n\t<style>\r\n\t\t.well {\r\n\t\t\tbackground-color: #80dc75"],[0," !im"]],"start1":4501,"start2":4501,"length1":79,"length2":313}],"length":13807}
{"ts":1518670428,"restoring":false,"user_id":7359,"patch":[{"diffs":[[0,"r: #"],[-1,"80dc75"],[1,"99ed90"],[0," !im"]],"start1":4800,"start2":4800,"length1":14,"length2":14}],"length":13807}
{"ts":1518798843,"restoring":false,"user_id":7359,"patch":[{"diffs":[[0,"ase();\r\n"],[1,"$url = \"//chs.ironk12.org/\";"],[0,"\r\n$snow "]],"start1":108,"start2":108,"length1":16,"length2":44},{"diffs":[[0,"ss?v=1.0"],[-1,"4"],[1,"6"],[0,"\" rel=\"s"]],"start1":4343,"start2":4343,"length1":17,"length2":17},{"diffs":[[0,"false;\r\n"],[1,"$chr = false;\r\n"],[0,"if((strt"]],"start1":4406,"start2":4406,"length1":16,"length2":31},{"diffs":[[0,"= true;\r\n}\r\n"],[1,"if((strtotime(\"today\") == strtotime(\"Dec 25\") || $_GET['c']==1) && $_SESSION['nochr']!=\"off\") {\r\n\t$chr = true;\r\n}\r\n"],[0,"if($val == t"]],"start1":4650,"start2":4650,"length1":24,"length2":139},{"diffs":[[0,"le>\r\n\t\t.well {\r\n"],[-1,""],[0,"\t\t\tbackground-co"]],"start1":4924,"start2":4924,"length1":32,"length2":32},{"diffs":[[0,"\n\t<?php\r\n}\r\n"],[1,"if($chr == true) {\r\n\t?>\r\n\t<style>\r\n\t\t.well {\r\n\t\t\tbackground-color: #5abb60 !important;\r\n\t\t}\r\n\t</style>\r\n\t<?php\r\n}\r\n"],[0,"?>\r\n\r\n<!--jq"]],"start1":4997,"start2":4997,"length1":24,"length2":139}],"length":14080}
{"ts":1518799462,"restoring":false,"user_id":7359,"patch":[{"diffs":[[0,"sheet\">\r"],[1,"\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/barba.js/1.0.0/barba.min.js\"></script>\r"],[0,"\n\r\n<?php"]],"start1":4364,"start2":4364,"length1":16,"length2":108}],"length":14172}
{"ts":1518799528,"restoring":false,"user_id":7359,"patch":[{"diffs":[[0,"ript"],[-1," src=\"https://cdnjs.cloudflare.com/ajax/libs/smoothState.js/0.7.2/jquery.smoothState.min.js\"></script>\r\n<script>\r\n$(function() {\r\n  $(\"#main\").smoothState"],[1,">\r\n$(function() {\r\n  Barba.Pjax.start"],[0,"();\r"]],"start1":5744,"start2":5744,"length1":162,"length2":45}],"length":14055}
{"ts":1518799586,"restoring":false,"user_id":7359,"patch":[{"diffs":[[0,"on() {\r\n"],[1,"\t$(\"body\").attr(\"id\",\"barba-wrapper\");\r\n\t$(\"div.container\").addClass(\"barba-container\");\r\n"],[0,"  Barba."]],"start1":5759,"start2":5759,"length1":16,"length2":106}],"length":14145}
{"ts":1518799736,"restoring":false,"user_id":7359,"patch":[{"diffs":[[0,"t\">\r"],[-1,"\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/barba.js/1.0.0/barba.min.js\"></script>\r"],[0,"\n\r\n<"]],"start1":4368,"start2":4368,"length1":100,"length2":8},{"diffs":[[0,"t>\r\n"],[-1,"$(function() {\r\n\t$(\"body\").attr(\"id\",\"barba-wrapper\");\r\n\t$(\"div.container\").addClass(\"barba-container\");\r\n  Barba.Pjax.start();\r\n});\r\n"],[0,"new "]],"start1":5655,"start2":5655,"length1":142,"length2":8}],"length":13919}